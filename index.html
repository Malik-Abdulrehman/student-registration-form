<!DOCTYPE html>
<html>
<head>
  <title>Customized Student Registration</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    form { background: #fff; padding: 20px; border-radius: 8px; max-width: 800px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, select, label { width: 100%; padding: 10px; margin: 8px 0; border-radius: 5px; border: 1px solid #ccc; }
    label { font-weight: bold; padding: 0; margin-top: 12px; }
    button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0056b3; }
    .error { color: red; font-size: 0.9em; margin-top: -5px; }
  </style>
</head>
<body>

<h2>Student Registration Form</h2>
<form id="registrationForm">

  <h3>Personal Information</h3>
  <input type="text" id="studentName" placeholder="Student Name" required>
  <input type="text" id="fatherName" placeholder="Father's Name" required>
  <select id="gender" required>
    <option value="">Select Gender</option>
    <option>Male</option>
    <option>Female</option>
    <option>Other</option>
  </select>

  <label for="admissionDate">Admission Date</label>
  <input type="date" id="admissionDate" required>

  <input type="text" id="nationality" placeholder="Nationality" required>
  <input type="text" id="cnic" placeholder="CNIC Number (13 digits)" required>
  <input type="text" id="passport" placeholder="Passport Number" required>

  <label for="dob">Date of Birth</label>
  <input type="date" id="dob" required>

  <input type="text" id="phone" placeholder="Phone Number" required>
  <input type="email" id="email" placeholder="Email Address" required>
  <input type="text" id="domicileDistrict" placeholder="Domicile District" required>
  <input type="text" id="domicileProvince" placeholder="Domicile Province" required>
  <input type="text" id="address" placeholder="Mailing Address" required>
  <input type="text" id="city" placeholder="City (Mailing Address)" required>

  <h3>SSC (Matric) Information</h3>
  <input type="text" id="sscDegree" placeholder="SSC Degree Name" required>
  <input type="text" id="sscBoard" placeholder="SSC Board Name" required>
  <input type="number" id="sscTotal" placeholder="SSC Total Marks" required>
  <input type="number" id="sscObtained" placeholder="SSC Obtained Marks" required>

  <h3>HSSC (Intermediate) Information</h3>
  <input type="text" id="hsscDegree" placeholder="HSSC Degree Name" required>
  <input type="text" id="hsscNomenclature" placeholder="HSSC Degree Nomenclature" required>
  <input type="text" id="hsscBoard" placeholder="HSSC Board Name" required>
  <input type="number" id="hsscTotal" placeholder="HSSC Total Marks" required>
  <input type="number" id="hsscObtained" placeholder="HSSC Obtained Marks" required>

  <div id="error" class="error"></div>
  <button type="submit">Submit</button>
</form>

<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbw7zvECK_bTvsG0RhF8fSAUtztbGSUKaFnYcwEa2wmRKsBnHaijWvkkJW-y61W11xTUig/exec'; // Replace with your actual script URL

  document.getElementById('registrationForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const errorDiv = document.getElementById("error");
    errorDiv.innerText = "";

    const formData = {
      studentName: document.getElementById("studentName").value.trim(),
      fatherName: document.getElementById("fatherName").value.trim(),
      gender: document.getElementById("gender").value,
      admissionDate: document.getElementById("admissionDate").value,
      nationality: document.getElementById("nationality").value.trim(),
      cnic: document.getElementById("cnic").value.trim(),
      passport: document.getElementById("passport").value.trim(),
      dob: document.getElementById("dob").value,
      phone: document.getElementById("phone").value.trim(),
      email: document.getElementById("email").value.trim(),
      domicileDistrict: document.getElementById("domicileDistrict").value.trim(),
      domicileProvince: document.getElementById("domicileProvince").value.trim(),
      address: document.getElementById("address").value.trim(),
      city: document.getElementById("city").value.trim(),
      sscDegree: document.getElementById("sscDegree").value.trim(),
      sscBoard: document.getElementById("sscBoard").value.trim(),
      sscTotal: document.getElementById("sscTotal").value.trim(),
      sscObtained: document.getElementById("sscObtained").value.trim(),
      hsscDegree: document.getElementById("hsscDegree").value.trim(),
      hsscNomenclature: document.getElementById("hsscNomenclature").value.trim(),
      hsscBoard: document.getElementById("hsscBoard").value.trim(),
      hsscTotal: document.getElementById("hsscTotal").value.trim(),
      hsscObtained: document.getElementById("hsscObtained").value.trim()
    };

    // Validation
    if (!/^\d{13}$/.test(formData.cnic)) return errorDiv.innerText = "CNIC must be 13 digits.";
    if (!/^\d{10,11}$/.test(formData.phone)) return errorDiv.innerText = "Phone number must be 10â€“11 digits.";
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) return errorDiv.innerText = "Invalid email format.";

    try {
      const response = await fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(formData),
        headers: { 'Content-Type': 'application/json' }
      });
      const result = await response.json();
      alert("Form submitted successfully! Your Roll No is: " + result.rollNumber);
      document.getElementById("registrationForm").reset();
    } catch (err) {
      errorDiv.innerText = "Submission failed. Please try again.";
    }
  });
</script>

</body>
</html>
